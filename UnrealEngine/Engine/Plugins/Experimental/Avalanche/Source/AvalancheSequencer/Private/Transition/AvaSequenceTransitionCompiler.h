// Copyright Epic Games, Inc. All Rights Reserved.

#pragma once

#include "Containers/ContainersFwd.h"
#include "State/AvaTransitionAutogeneratedStateContext.h"

class UAvaTransitionTreeEditorData;
class UStateTreeState;
template <typename T> struct TObjectPtr;

class FAvaSequenceTransitionCompiler
{
public:
	static FAvaSequenceTransitionCompiler& Get();

	FAvaSequenceTransitionCompiler();

	void Register();

	void Unregister();

	void OnCompileTransitionTree(UAvaTransitionTreeEditorData& InEditorData);

	void CompileStatesRecursive(UAvaTransitionTreeEditorData& InEditorData, TArray<TObjectPtr<UStateTreeState>>& InStates);

private:
	const FAvaTransitionAutogeneratedStateContext AutogeneratedStateContext;
};
